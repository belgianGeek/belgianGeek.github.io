import{_ as s,c as t,a5 as i,o as a}from"./chunks/framework.Bpatc_vO.js";const m=JSON.parse(`{"title":"Ansible - Partie 1","description":"Aujourd'hui, je vais vous parler d'Ansible, un outil d'automatisation cod√© en Python, con√ßu et maintenu par Red Hat.","frontmatter":{"title":"Ansible - Partie 1","author":"Maxime Deposson","layout":"doc","image":"/assets/../images/ansible_background.webp","description":"Aujourd'hui, je vais vous parler d'Ansible, un outil d'automatisation cod√© en Python, con√ßu et maintenu par Red Hat."},"headers":[],"relativePath":"posts/2023-09-04-ansible-part-1.md","filePath":"posts/2023-09-04-ansible-part-1.md","lastUpdated":null}`),n={name:"posts/2023-09-04-ansible-part-1.md"};function o(l,e,r,u,c,d){return a(),t("div",null,e[0]||(e[0]=[i(`<h1 id="ansible-partie-1" tabindex="-1">Ansible - Partie 1 <a class="header-anchor" href="#ansible-partie-1" aria-label="Permalink to &quot;Ansible - Partie 1&quot;">‚Äã</a></h1><h2 id="üöß-cet-article-est-toujours-en-chantier-veuillez-donc-m-excuser-s-il-n-est-pas-complet" tabindex="-1"><strong>üöß Cet article est toujours en chantier. Veuillez donc m&#39;excuser s&#39;il n&#39;est pas complet</strong> <a class="header-anchor" href="#üöß-cet-article-est-toujours-en-chantier-veuillez-donc-m-excuser-s-il-n-est-pas-complet" aria-label="Permalink to &quot;**üöß Cet article est toujours en chantier. Veuillez donc m&#39;excuser s&#39;il n&#39;est pas complet**&quot;">‚Äã</a></h2><p>Aujourd&#39;hui, je vais vous parler d&#39;Ansible, un outil d&#39;automatisation cod√© en Python, con√ßu et maintenu par Red Hat.</p><h2 id="qu-est-ce-qu-ansible-et-a-quoi-peut-il-servir" tabindex="-1">Qu&#39;est-ce qu&#39;<em>Ansible</em> et √† quoi peut-il servir ? <a class="header-anchor" href="#qu-est-ce-qu-ansible-et-a-quoi-peut-il-servir" aria-label="Permalink to &quot;Qu&#39;est-ce qu&#39;_Ansible_ et √† quoi peut-il servir ?&quot;">‚Äã</a></h2><p><em>Ansible</em> est un outil disponible sous Linux et utilisable en ligne de commande, qui permet d&#39;automatiser √©norm√©ment de t√¢ches. Il est maintenu par Red Hat, une soci√©t√© tr√®s connue des utilisateurs de Linux, et qui a vite fait grandir sa popularit√© dans le monde de l&#39;automatisation. <em>Ansible</em> est en effet un produit combinant plusieurs avantages :</p><ul><li>D&#39;abord, il est gratuit, ce qui a facilit√© son adoption par le grand nombre ;</li><li>Il est tr√®s simple d&#39;utilisation ;</li><li>Il est extensible gr√¢ce √† de nombreux modules, ce qui le rend cross-platform et lui permet d&#39;interagir avec √©norm√©ment d&#39;√©quipements, de types diff√©rents (ordinateurs et serveurs Linux/Windows, √©quipements r√©seau, firewalls...) ;</li><li>Il est cod√© en Python et publi√© sous licence <em>open source</em>, ce qui le rend tr√®s √©volutif ;</li></ul><p>Ce guide servira avant tout de pense-b√™te, mais j&#39;esp√®re qu&#39;il pourra servir √† quiconque le lira √©galement.</p><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">‚Äã</a></h2><p><em>Ansible</em> √©tant surtout destin√© aux environnements d&#39;entreprise, ce guide est bas√© sur l&#39;utilisation de Cent OS Stream 9, soit - √† l&#39;heure d&#39;√©crire ces lignes - la derni√®re version de l&#39;OS gratuit √©quivalent √† <em>Red Hat Entreprise Linux</em>.</p><p><em>Cent OS Stream</em> est <a href="https://www.centos.org/centos-stream/" class="link" target="_blank" rel="noreferrer">t√©l√©chargeable directement sur le site du projet</a> et est disponible en plusieurs formats selon votre besoin (container, image Cloud ou ISO).</p><p>Une fois <em>Cent OS</em> install√©, vous pouvez mettre √† jour le syst√®me avec la commande <code>sudo yum update</code>.</p><h3 id="ansible-vs-ansible-core" tabindex="-1">Ansible VS Ansible-core <a class="header-anchor" href="#ansible-vs-ansible-core" aria-label="Permalink to &quot;Ansible VS Ansible-core&quot;">‚Äã</a></h3><p>Par d√©faut, vous n&#39;aurez droit qu&#39;√† <code>ansible-core</code>, un paquet ne contenant que de simples fonctions de base. C&#39;est pratique si vous ne d√©sirez installer que les paquets qui vous sont absolument n√©cessaires. Vous devrez par contre installer autant de modules que n√©cessaires pour automatiser vos √©quipements.</p><p>Le paquet <code>ansible</code> est la version compl√®te de l&#39;outil, qui inclut quelques modules compl√©mentaires. Si vous d√©sirez installer cette version, il vous est n√©cessaire d&#39;installer le paquet <em>Extra Packages for Enterprise Linux</em> en entrant l&#39;instruction <code>sudo yum install epel-release</code>. Des paquets compl√©mentaires seront alors disponibles pour votre serveur, en ce compris la version compl√®te d&#39;<em>Ansible</em>. Vous pourrez l&#39;installer avec la commande <code>sudo yum install ansible -y</code>.</p><p>Dans ce guide, nous partirons du principe que vous installerez la version compl√®te d&#39;<em>Ansible</em>.</p><h3 id="fichiers-de-configuration" tabindex="-1">Fichiers de configuration <a class="header-anchor" href="#fichiers-de-configuration" aria-label="Permalink to &quot;Fichiers de configuration&quot;">‚Äã</a></h3><p>Diff√©rents fichiers de configuration sont disponibles dans le dossier <code>/etc/ansible</code>. Parmi eux se trouvent :</p><ul><li><u>ansible.cfg</u>, qui contient la liste des param√®tres li√©s √† l&#39;ex√©cution d&#39;<em>Ansible</em></li><li><u>hosts</u>, qui contient la liste des h√¥tes et groupes d&#39;h√¥tes configurables</li></ul><h3 id="creation-d-un-utilisateur-specifique" tabindex="-1">Cr√©ation d&#39;un utilisateur sp√©cifique <a class="header-anchor" href="#creation-d-un-utilisateur-specifique" aria-label="Permalink to &quot;Cr√©ation d&#39;un utilisateur sp√©cifique&quot;">‚Äã</a></h3><p>Pour des raisons √©videntes de s√©curit√©, il est pr√©f√©rable de n&#39;utiliser <em>Ansible</em> qu&#39;√† travers un utilisateur d√©di√© √† cet usage et n&#39;ayant aucun droits administrateurs.</p><p>Partant du principe que vous avez install√© <em>Ansible</em> avec l&#39;utilisateur <em>root</em>, vous pouvez cr√©er un utilisateur <em>ansible</em> et l&#39;autoriser √† acc√©der en lecture, ex√©cution et en modification au dossier <code>/etc/ansible</code> avec leux deux commandes suivantes :</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># Ajouter l&#39;utilisateur root au groupe ansible et le rendre propri√©taire du dossier /etc/ansible</span></span>
<span class="line"><span>sudo chown -R root:ansible /etc/ansible</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Autoriser l&#39;utilisateur root et le groupe d&#39;utilisateurs ansible √† lire et modifier la configuration d&#39;Ansible</span></span>
<span class="line"><span>sudo chmod -R 770 /etc/ansible</span></span></code></pre></div><p>Cela fait, vous pourrez installer des modules, √©xecuter des commandes Ansible et modifier sa configuration sans avoir besoin de droits administrateurs.</p><h2 id="installation-de-modules" tabindex="-1">Installation de modules <a class="header-anchor" href="#installation-de-modules" aria-label="Permalink to &quot;Installation de modules&quot;">‚Äã</a></h2><p>Comme expliqu√© plus haut, <em>Ansible</em> est extensible avec des modules, qui vous permettront d&#39;automatiser une quantit√© impressionnante d&#39;√©quipements. La liste des modules officiels est disponible <a href="https://docs.ansible.com/ansible/latest/collections/" class="link" target="_blank" rel="noreferrer">sur le site de documentation <em>Ansible</em></a>.</p><p>Si vous ne trouvez pas votre bonheur parmi les modules pr√©install√©s avec le paquet <code>ansible</code>, vous pouvez en chercher avec la commande <code>ansible-galaxy collection list &lt;nom de votre collection&gt;</code>. Ainsi, si vous cherchez √† automatiser des switches Cisco, vous devrez peut-√™tre installer le paquet <code>cisco.ios</code> avec la commande <code>ansible-galaxy collection install cisco.ios</code>.</p><p>Cette commande peut √™tre ex√©cut√©e en tant que simple utilisateur et ne n√©cessite pas les droits <em>root</em>. Nous y reviendrons.</p>`,27)]))}const b=s(n,[["render",o]]);export{m as __pageData,b as default};
